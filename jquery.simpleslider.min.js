(function(k){k.fn.simpleslider=function(m){var y="ontouchstart"in window,b=k.extend({min:0,max:100,step:0,value:0,orientaion:h,box_class:"",track_class:"",handle_class:"",box_disable_class:"",track_disable_class:"",handle_disable_class:"",size:[0,0],change:function(){}},m),u="vertical",h="horizontal",q="simpleslider_value",r="simpleslider_step_value",h={create:function(){return this.each(function(h){function m(a){return Math.max(Math.min(a,b.max),b.min)}function z(c){c=m(c);if(c!=a.data(q)){a.data(q,
c);var e=c;b.step?(e=m(parseInt((c+b.step/2)/b.step)*b.step),e!=a.data(r)&&(a.data(r,e),b.change(e))):(a.data(r,e),b.change(e))}}function A(){var c=a.data(q),e;b.orientation==u?(e=n/s*c-v/2,c=p/2-w/2):(e=n/2-v/2,c=p/s*c-w/2);f.css("top",e+"px");f.css("left",c+"px")}function B(a){return"touchmove"==a.type||"touchstart"==a.type?(a=a.originalEvent.changedTouches[0],{x:a.clientX,y:a.clientY}):"mousedown"==a.type||"mousemove"==a.type?{x:a.pageX,y:a.pageY}:{x:-1,y:-1}}function g(c){c.preventDefault();c.stopPropagation();
switch(c.type){case "touchstart":case "mousedown":if(0<=l)break;(function(){var a=B(c);l=a.x;t=a.y})();break;case "touchmove":case "mousemove":if(0>l)break;(function(){var e=B(c),d=e.x-l,f=e.y-t;l=e.x;t=e.y;e=a.data(q);diff_val=b.orientation==u?s/n*f:s/p*d;z(e+diff_val);A()})();break;case "touchend":case "mouseup":case "mouseout":if(0>l)break;t=l=-1}}var a=k(this),l=-1,t=-1,s=b.max-b.min;a.addClass(b.box_class);var f=k(document.createElement("div"));f.data("ss_role","handle");f.addClass(b.handle_class);
var d=k(document.createElement("div"));d.data("ss_role","track");d.addClass(b.track_class);d.append(f);a.append(d);h=a.innerWidth();var x=a.innerHeight(),w=f.outerWidth(),v=f.outerHeight(),p=d.width(),n=d.height();0<b.size[0]&&0<b.size[1]&&(h=b.size[0],x=b.size[1],a.width(h),a.height(x),b.orientation==u?(n=x-v,d.height(n)):(p=h-w,d.width(p)),d.css("left",(a.innerWidth()-d.outerWidth())/2+"px"),d.css("top",(a.innerHeight()-d.outerHeight())/2+"px"));a.bind("_enable",function(){!1==a.data("simpleslider_enable")&&
(y?(f.bind("touchstart",g),a.bind("touchmove",g),a.bind("touchend",g)):(f.bind("mousedown",g),a.bind("mousemove",g),a.bind("mouseup",g)));a.data("simpleslider_enable",!0);a.removeClass(b.box_disable_class);f.removeClass(b.handle_disable_class);d.removeClass(b.track_disable_class);a.addClass(b.box_class);f.addClass(b.handle_class);d.addClass(b.track_class)});a.bind("_disable",function(){!0==a.data("simpleslider_enable")&&(y?(f.unbind("touchstart",g),a.unbind("touchmove",g),a.unbind("touchend",g)):
(f.unbind("mousedown",g),a.unbind("mousemove",g),a.unbind("mouseup",g)),a.removeClass(b.box_class),f.removeClass(b.handle_class),d.removeClass(b.track_class),a.addClass(b.box_disable_class),f.addClass(b.handle_disable_class),d.addClass(b.track_disable_class));a.data("simpleslider_enable",!1)});z(b.value);A();a.data("simpleslider_enable",!1);a.trigger("_enable")})},get_val:function(){return k(this).data(r)},enable:function(){k(this).trigger("_enable")},disable:function(){k(this).trigger("_disable")}};
return h[m]?h[m].apply(this,Array.prototype.slice.call(arguments,1)):h.create.apply(this)}})(jQuery);
